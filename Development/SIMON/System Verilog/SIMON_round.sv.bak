module SIMON_round
#(	parameter N = 16,
	parameter M = 4			)
 (	input clk,
	input logic [2*N-1:0] block,
	input logic [N-1:0] key,	
	output logic [2*N-1:0] out	);

typedef enum {s0,s1} state;
state current, next;

logic [N-1:0] f, tmp;

SIMON_function func(.in(block[2*N-1:N]), .out(f));
/*
always_ff @(posedge clk)
begin
	current <= next;
	
	unique case(current)
	s0:	out[N-1:0] <= block[2*N-1:N];
	s1:	out[2*N-1:N] <= block[N-1:0] ^ key ^ f;
	endcase
end
//*/
always_comb
begin
	out[N-1:0] <= block[2*N-1:N];
	out[2*N-1:N] <= block[N-1:0] ^ key ^ f;
end

endmodule